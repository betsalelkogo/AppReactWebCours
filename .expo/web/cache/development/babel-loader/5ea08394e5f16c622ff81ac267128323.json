{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport StudentModel from \"./model/StudentModel\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ListItem = function ListItem(_ref) {\n  var name = _ref.name,\n    id = _ref.id,\n    image = _ref.image,\n    onRowSelected = _ref.onRowSelected;\n  var onClick = function onClick() {\n    console.log(\"int he row: row was selected \" + id);\n    onRowSelected(id);\n  };\n  return _jsx(TouchableHighlight, {\n    onPress: onClick,\n    underlayColor: \"gainsboro\",\n    children: _jsxs(View, {\n      style: styles.listRow,\n      children: [_jsx(Image, {\n        style: styles.listRowImage,\n        source: require(\"./assets/ava.png\")\n      }), _jsxs(View, {\n        style: styles.listRowTextContainer,\n        children: [_jsx(Text, {\n          style: styles.listRowName,\n          children: name\n        }), _jsx(Text, {\n          style: styles.listRowId,\n          children: id\n        })]\n      })]\n    })\n  });\n};\nvar StudentList = function StudentList(_ref2) {\n  var route = _ref2.route,\n    navigation = _ref2.navigation;\n  var onRowSelected = function onRowSelected(id) {\n    console.log(\"in the list: row was selected \" + id);\n    navigation.navigate(\"StudentDetails\", {\n      studentId: id\n    });\n  };\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    students = _useState2[0],\n    setStudents = _useState2[1];\n  useEffect(function () {\n    var unsubscribe = navigation.addListener(\"focus\", function () {\n      console.log(\"focus\");\n      setStudents(StudentModel.getAllStudents());\n    });\n    return unsubscribe;\n  });\n  return _jsx(FlatList, {\n    style: styles.flatlist,\n    data: students,\n    keyExtractor: function keyExtractor(student) {\n      return student.id.toString();\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return _jsx(ListItem, {\n        name: item.name,\n        id: item.id,\n        image: item.image,\n        onRowSelected: onRowSelected\n      });\n    }\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: StatusBar.currentHeight,\n    flex: 1,\n    backgroundColor: \"grey\"\n  },\n  flatlist: {\n    flex: 1\n  },\n  listRow: {\n    margin: 4,\n    flexDirection: \"row\",\n    height: 150,\n    elevation: 1,\n    borderRadius: 2\n  },\n  listRowImage: {\n    margin: 10,\n    resizeMode: \"contain\",\n    height: 130,\n    width: 130\n  },\n  listRowTextContainer: {\n    flex: 1,\n    margin: 10,\n    justifyContent: \"space-around\"\n  },\n  listRowName: {\n    fontSize: 30\n  },\n  listRowId: {\n    fontSize: 25\n  }\n});\nexport default StudentList;","map":{"version":3,"names":["useState","useEffect","StudentModel","ListItem","name","id","image","onRowSelected","onClick","console","log","styles","listRow","listRowImage","require","listRowTextContainer","listRowName","listRowId","StudentList","route","navigation","navigate","studentId","students","setStudents","unsubscribe","addListener","getAllStudents","flatlist","student","toString","item","StyleSheet","create","container","marginTop","StatusBar","currentHeight","flex","backgroundColor","margin","flexDirection","height","elevation","borderRadius","resizeMode","width","justifyContent","fontSize"],"sources":["C:/Users/betsa/ClientsideAPP/AppReactWebCours/StudentsList.tsx"],"sourcesContent":["import { FC, useState, useEffect } from \"react\";\r\nimport {\r\n  StatusBar,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TouchableOpacity,\r\n  Button,\r\n  Alert,\r\n  TextInput,\r\n  FlatList,\r\n  TouchableHighlight,\r\n} from \"react-native\";\r\n\r\nimport StudentModel, { Student } from \"./model/StudentModel\";\r\n\r\nconst ListItem: FC<{\r\n  name: String;\r\n  id: String;\r\n  image: String;\r\n  onRowSelected: (id: String) => void;\r\n}> = ({ name, id, image, onRowSelected }) => {\r\n  const onClick = () => {\r\n    console.log(\"int he row: row was selected \" + id);\r\n    onRowSelected(id);\r\n  };\r\n  return (\r\n    <TouchableHighlight onPress={onClick} underlayColor={\"gainsboro\"}>\r\n      <View style={styles.listRow}>\r\n        <Image\r\n          style={styles.listRowImage}\r\n          source={require(\"./assets/ava.png\")}\r\n        />\r\n        <View style={styles.listRowTextContainer}>\r\n          <Text style={styles.listRowName}>{name}</Text>\r\n          <Text style={styles.listRowId}>{id}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableHighlight>\r\n  );\r\n};\r\n\r\nconst StudentList: FC<{ route: any; navigation: any }> = ({\r\n  route,\r\n  navigation,\r\n}) => {\r\n  const onRowSelected = (id: String) => {\r\n    console.log(\"in the list: row was selected \" + id);\r\n    navigation.navigate(\"StudentDetails\", { studentId: id });\r\n  };\r\n\r\n  const [students, setStudents] = useState<Array<Student>>();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener(\"focus\", () => {\r\n      console.log(\"focus\");\r\n      setStudents(StudentModel.getAllStudents());\r\n    });\r\n    return unsubscribe;\r\n  });\r\n  return (\r\n    <FlatList\r\n      style={styles.flatlist}\r\n      data={students}\r\n      keyExtractor={(student) => student.id.toString()}\r\n      renderItem={({ item }) => (\r\n        <ListItem\r\n          name={item.name}\r\n          id={item.id}\r\n          image={item.image}\r\n          onRowSelected={onRowSelected}\r\n        />\r\n      )}\r\n    ></FlatList>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: StatusBar.currentHeight,\r\n    flex: 1,\r\n    backgroundColor: \"grey\",\r\n  },\r\n  flatlist: {\r\n    flex: 1,\r\n  },\r\n  listRow: {\r\n    margin: 4,\r\n    flexDirection: \"row\",\r\n    height: 150,\r\n    elevation: 1,\r\n    borderRadius: 2,\r\n  },\r\n  listRowImage: {\r\n    margin: 10,\r\n    resizeMode: \"contain\",\r\n    height: 130,\r\n    width: 130,\r\n  },\r\n  listRowTextContainer: {\r\n    flex: 1,\r\n    margin: 10,\r\n    justifyContent: \"space-around\",\r\n  },\r\n  listRowName: {\r\n    fontSize: 30,\r\n  },\r\n  listRowId: {\r\n    fontSize: 25,\r\n  },\r\n});\r\n\r\nexport default StudentList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}